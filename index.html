<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ø£ØµØ§Ø¨Ø¹ Ø§Ù„ÙØ±Ø¹ÙˆÙ† â€” Ù…Ø¬Ù„Ø© Ø®ÙÙŠÙØ© Ù…Ø¹ Ø£Ø¯Ø§Ø© ÙƒØªØ§Ø¨Ø©</title>
  <meta name="description" content="Ø£ØµØ§Ø¨Ø¹ Ø§Ù„ÙØ±Ø¹ÙˆÙ†: Ù…ÙˆÙ‚Ø¹ Ù…Ù‚Ø§Ù„Ø§Øª Ø®ÙÙŠÙ ÙˆØ¬Ù…ÙŠÙ„ØŒ Ù…Ø¹ Ø£Ø¯Ø§Ø© Ù„ÙƒØªØ§Ø¨Ø© ÙˆÙ†Ø´Ø± Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ù†Ø¸Ù…Ø© Ù…Ø¹ Ø§Ù„ØµÙˆØ±ØŒ ÙˆÙ…ÙˆØ§Ø¶Ø¹ Ø¬Ø§Ù‡Ø²Ø© Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Google AdSense.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap" rel="stylesheet">
  <!-- Load Google API for Sign-In -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root{
      --bg: #0e0f13;
      --card: #171923;
      --muted: #8b90a3;
      --text: #e9ecf1;
      --brand: #e0b15a;
      --accent: #5ac8e0;
      --radius: 18px;
      --shadow: 0 8px 24px rgba(0,0,0,.25);
      --success: #4CAF50;
      --warning: #FF9800;
      --error: #f44336;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:"Cairo",system-ui,Segoe UI,Arial;}
    a{color:var(--brand);text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    header{
      position:sticky;top:0;z-index:20;background:linear-gradient(180deg,rgba(14,15,19,.9),rgba(14,15,19,.6));backdrop-filter:saturate(180%) blur(10px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav{display:flex;align-items:center;gap:16px;justify-content:space-between}
    .logo{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.5px}
    .logo-badge{width:36px;height:36px;border-radius:12px;background:conic-gradient(from 120deg,var(--brand),#b27b2b,var(--brand));display:grid;place-items:center;box-shadow:var(--shadow)}
    .logo-badge span{font-weight:800}
    .nav a.btn{padding:10px 14px;border:1px solid rgba(255,255,255,.08);border-radius:12px}
    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:20px;align-items:stretch;margin:24px 0}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .p{padding:20px}
    .hero .title{font-size:34px;line-height:1.25;margin:0 0 10px}
    .hero .subtitle{color:var(--muted);margin:0 0 16px}
    .grid{display:grid;grid-template-columns:2.2fr 1fr;gap:20px}
    .posts{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
    .post{overflow:hidden}
    .post .thumb{aspect-ratio:16/9;background:#101219;border-bottom:1px solid rgba(255,255,255,.06)}
    .post .meta{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:12px;margin-top:6px}
    .post h3{margin:10px 0 6px;font-size:18px}

    /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
    .sidebar .widget{padding:16px;border-radius:var(--radius);background:var(--card);border:1px solid rgba(255,255,255,.06);box-shadow:var(--shadow)}
    .ad-slot{display:grid;place-items:center;aspect-ratio: 1.2/1;background:#0f111a;border:1px dashed rgba(255,255,255,.15);border-radius:14px}
    .ad-slot small{color:var(--muted)}

    /* Ù†Ø§ÙØ°Ø© Ø£Ø¯Ø§Ø© Ø§Ù„ØªØ­Ø±ÙŠØ± */
    dialog{width:min(980px,96vw);border:0;border-radius:22px;padding:0;background:var(--bg);color:var(--text);box-shadow:0 40px 120px rgba(0,0,0,.6)}
    .ed-header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border-bottom:1px solid rgba(255,255,255,.08);background:#0c0d12;border-top-left-radius:22px;border-top-right-radius:22px}
    .ed-title{font-weight:700}
    .ed-body{display:grid;grid-template-columns:1.2fr .8fr;gap:16px;padding:16px}
    .toolbar{display:flex;flex-wrap:wrap;gap:10px;padding:10px;background:#0f1117;border-radius:14px;border:1px solid rgba(255,255,255,.06)}
    .tool-btn{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:#141724;cursor:pointer}
    .tool-btn:active{transform:translateY(1px)}
    .ed-left{display:flex;flex-direction:column;gap:10px}
    #editorArea{min-height:320px;padding:12px;border:1px solid rgba(255,255,255,.08);border-radius:14px;background:#121424}
    #editorArea:empty::before{content:"Ø§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù‡Ù†Ø§â€¦";color:var(--muted)}
    .ed-right{display:flex;flex-direction:column;gap:10px}
    input, textarea, select{width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#101322;color:var(--text)}
    label{font-size:13px;color:var(--muted)}
    .actions{display:flex;gap:10px;justify-content:flex-end;padding:10px 16px;border-top:1px solid rgba(255,255,255,.08)}
    .primary{background:var(--brand);color:#000;border:0}
    .ghost{background:transparent;color:var(--text)}

    footer{margin:30px 0;color:var(--muted);text-align:center}

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© */
    .user-section{display:flex;align-items:center;gap:10px}
    .user-avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}
    .user-name{font-size:14px;color:var(--text)}
    .login-btn{display:flex;align-items:center;gap:6px;padding:8px 14px;background:var(--brand);color:#000;border-radius:12px;border:none;cursor:pointer}
    .login-btn i{font-size:16px}
    
    .article-limit{display:flex;align-items:center;gap:8px;margin-top:12px;font-size:14px;color:var(--muted)}
    .limit-bar{flex:1;height:6px;background:rgba(255,255,255,.1);border-radius:3px;overflow:hidden}
    .limit-progress{height:100%;background:var(--brand);border-radius:3px;transition:width 0.3s}
    
    .image-gallery{display:grid;grid-template-columns:repeat(3, 1fr);gap:10px;margin:12px 0}
    .gallery-item{position:relative;aspect-ratio:1;border-radius:10px;overflow:hidden;cursor:move}
    .gallery-item img{width:100%;height:100%;object-fit:cover}
    .gallery-item .remove{position:absolute;top:5px;right:5px;background:rgba(0,0,0,.7);color:white;border-radius:50%;width:20px;height:20px;display:grid;place-items:center;font-size:12px;cursor:pointer}
    
    .dashboard{display:grid;grid-template-columns:250px 1fr;gap:20px;margin-top:20px}
    .dashboard-nav{background:var(--card);border-radius:var(--radius);padding:16px}
    .dashboard-nav a{display:flex;align-items:center;gap:10px;padding:12px;border-radius:10px;margin-bottom:8px;transition:background 0.2s}
    .dashboard-nav a:hover{background:rgba(255,255,255,.05)}
    .dashboard-nav a.active{background:var(--brand);color:#000}
    .dashboard-content{background:var(--card);border-radius:var(--radius);padding:20px}
    
    .stats-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:16px;margin-bottom:20px}
    .stat-card{background:rgba(255,255,255,.05);border-radius:var(--radius);padding:16px;text-align:center}
    .stat-value{font-size:24px;font-weight:bold;margin:8px 0;color:var(--brand)}
    .stat-label{color:var(--muted);font-size:14px}
    
    .articles-table{width:100%;border-collapse:collapse;margin-top:16px}
    .articles-table th, .articles-table td{padding:12px;text-align:right;border-bottom:1px solid rgba(255,255,255,.1)}
    .articles-table th{color:var(--muted);font-weight:600}
    
    .notification{position:fixed;top:20px;right:20px;padding:12px 16px;border-radius:10px;background:var(--card);border-left:4px solid var(--brand);box-shadow:var(--shadow);transform:translateX(100%);transition:transform 0.3s;z-index:1000}
    .notification.show{transform:translateX(0)}
    .notification.success{border-left-color:var(--success)}
    .notification.error{border-left-color:var(--error)}
    
    .article-page{max-width:800px;margin:0 auto;padding:20px}
    .article-header{margin-bottom:30px}
    .article-cover{width:100%;aspect-ratio:16/9;object-fit:cover;border-radius:var(--radius);margin-bottom:20px}
    .article-title{font-size:36px;margin:0 0 10px}
    .article-meta{display:flex;align-items:center;gap:12px;color:var(--muted);margin-bottom:20px}
    .article-author{display:flex;align-items:center;gap:8px}
    .article-content{line-height:1.8;font-size:18px}
    .article-content img{max-width:100%;border-radius:12px;margin:20px auto}
    .article-content h2{font-size:28px;margin:30px 0 15px;color:var(--brand)}
    .article-content h3{font-size:24px;margin:25px 0 12px}
    
    .drag-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(var(--brand-rgb), 0.2);border:2px dashed var(--brand);border-radius:12px;display:grid;place-items:center;z-index:10;pointer-events:none;opacity:0;transition:opacity 0.2s}
    .drag-overlay.active{opacity:1}
    
    @media (max-width: 900px){
      .hero{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
      .posts{grid-template-columns:1fr}
      .ed-body{grid-template-columns:1fr}
      .dashboard{grid-template-columns:1fr}
      .stats-grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="logo">
        <div class="logo-badge" aria-hidden="true"><span>ğ“‚€</span></div>
        <div>
          <div style="font-size:20px">Ø£ØµØ§Ø¨Ø¹ Ø§Ù„ÙØ±Ø¹ÙˆÙ†</div>
          <small style="color:var(--muted)">Ù…Ø¬Ù„Ø© Ø®ÙÙŠÙØ© â€” Ø£Ù†Ø´Ø¦ Ù…Ù‚Ø§Ù„Ù‹Ø§ Ø¨Ù†Ù‚Ø±ØªÙŠÙ†</small>
        </div>
      </div>
      <nav style="display:flex;align-items:center;gap:10px">
        <div class="user-section" id="userSection">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
        </div>
        <a class="btn" href="#" id="openEditorBtn">âœï¸ Ø£Ø¯Ø§Ø© ÙƒØªØ§Ø¨Ø©</a>
        <a class="btn" href="#posts">ğŸ“š Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</a>
      </nav>
    </div>
  </header>

  <main class="container" id="mainContent">
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
  </main>

  <!-- Ù†Ø§ÙØ°Ø© Ø£Ø¯Ø§Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© -->
  <dialog id="editorDialog">
    <div class="ed-header">
      <div class="ed-title">âœï¸ Ø£Ø¯Ø§Ø© ÙƒØªØ§Ø¨Ø© Ù…Ù‚Ø§Ù„</div>
      <button class="tool-btn ghost" id="closeEditor">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    <div class="ed-body">
      <div class="ed-left">
        <div class="toolbar">
          <button class="tool-btn" data-cmd="bold"><i class="fas fa-bold"></i></button>
          <button class="tool-btn" data-cmd="italic"><i class="fas fa-italic"></i></button>
          <button class="tool-btn" data-cmd="formatBlock" data-value="h2"><i class="fas fa-heading"></i></button>
          <button class="tool-btn" data-cmd="insertUnorderedList"><i class="fas fa-list-ul"></i></button>
          <button class="tool-btn" data-cmd="insertOrderedList"><i class="fas fa-list-ol"></i></button>
          <button class="tool-btn" id="insertImageBtn"><i class="fas fa-image"></i></button>
          <button class="tool-btn" id="insertDividerBtn"><i class="fas fa-minus"></i></button>
          <button class="tool-btn" id="clearBtn"><i class="fas fa-trash"></i></button>
        </div>
        <div id="editorArea" contenteditable="true"></div>
        <div class="article-limit" id="articleLimit">
          <i class="fas fa-chart-pie"></i>
          <div class="limit-bar">
            <div class="limit-progress" id="limitProgress" style="width: 0%"></div>
          </div>
          <span id="limitText">0/3 Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…</span>
        </div>
      </div>
      <div class="ed-right">
        <div>
          <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‚Ø§Ù„</label>
          <input type="text" id="postTitle" placeholder="Ø§ÙƒØªØ¨ Ø¹Ù†ÙˆØ§Ù†Ù‹Ø§ Ø¬Ø°Ø§Ø¨Ù‹Ø§">
        </div>
        <div>
          <label>Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <input type="url" id="coverUrl" placeholder="https://...">
          <div class="image-gallery" id="coverGallery">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­Ù…Ù„Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§ -->
          </div>
          <button class="tool-btn" id="uploadImageBtn" style="margin-top: 10px; width: 100%">
            <i class="fas fa-upload"></i> Ø±ÙØ¹ ØµÙˆØ±Ø©
          </button>
          <input type="file" id="imageUpload" accept="image/*" style="display: none">
        </div>
        <div>
          <label>ÙˆØµÙ (SEO)</label>
          <textarea id="postDesc" rows="3" placeholder="Ù…Ù„Ø®Øµ Ù‚ØµÙŠØ± Ø¹Ù† Ø§Ù„Ù…Ù‚Ø§Ù„"></textarea>
        </div>
        <div>
          <label>ÙˆØ³ÙˆÙ… (Ù…ÙØµÙˆÙ„Ø© Ø¨ÙÙˆØ§ØµÙ„)</label>
          <input type="text" id="postTags" placeholder="ØªÙ‚Ù†ÙŠØ©ØŒ Ø¥Ø¨Ø¯Ø§Ø¹ØŒ ØªØ¹Ù„ÙŠÙ…">
        </div>
        <div>
          <label>Ø§Ù„ØªØµÙ†ÙŠÙ</label>
          <select id="postCategory">
            <option value="Ø¹Ø§Ù…">Ø¹Ø§Ù…</option>
            <option value="ØªÙ‚Ù†ÙŠØ©">ØªÙ‚Ù†ÙŠØ©</option>
            <option value="ØªØ¹Ù„ÙŠÙ…">ØªØ¹Ù„ÙŠÙ…</option>
            <option value="ØªØ±ÙÙŠÙ‡">ØªØ±ÙÙŠÙ‡</option>
            <option value="Ø£Ø®Ø¨Ø§Ø±">Ø£Ø®Ø¨Ø§Ø±</option>
          </select>
        </div>
      </div>
    </div>
    <div class="actions">
      <button class="tool-btn ghost" id="previewBtn">Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
      <button class="tool-btn primary" id="publishBtn">Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„</button>
    </div>
  </dialog>

  <!-- Ù†Ø§ÙØ°Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ -->
  <dialog id="readerDialog">
    <div class="ed-header">
      <div class="ed-title" id="readerTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‚Ø§Ù„</div>
      <button class="tool-btn ghost" id="closeReader">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    <div class="p" id="readerContent" style="max-height:72vh;overflow:auto"></div>
  </dialog>

  <!-- Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <dialog id="loginDialog">
    <div class="ed-header">
      <div class="ed-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>
      <button class="tool-btn ghost" id="closeLogin">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    <div class="p" style="text-align: center; padding: 30px 20px">
      <div style="font-size: 60px; margin-bottom: 20px;">ğ“‚€</div>
      <h2 style="margin: 0 0 10px">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø£ØµØ§Ø¨Ø¹ Ø§Ù„ÙØ±Ø¹ÙˆÙ†</h2>
      <p style="color: var(--muted); margin: 0 0 30px">Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙˆØ¥Ø¯Ø§Ø±ØªÙ‡Ø§</p>
      <div id="g_id_onload"
           data-client_id="YOUR_GOOGLE_CLIENT_ID"
           data-context="signin"
           data-ux_mode="popup"
           data-login_uri="/login"
           data-auto_prompt="false">
      </div>
      <div class="g_id_signin"
           data-type="standard"
           data-shape="rectangular"
           data-theme="filled_blue"
           data-text="signin_with"
           data-size="large"
           data-logo_alignment="left"
           data-width="300">
      </div>
      <p style="color: var(--muted); font-size: 14px; margin-top: 30px">
        Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#">Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©</a> Ùˆ<a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
      </p>
    </div>
  </dialog>

  <!-- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
  <div class="notification" id="notification">
    <div id="notificationMessage"></div>
  </div>

  <script>
    // Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    const $$ = s => document.querySelector(s);
    const $$$ = s => document.querySelectorAll(s);
    
    // Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªØ®Ø²ÙŠÙ†
    const postsKey = 'pharaoh_fingers_posts_v2';
    const usersKey = 'pharaoh_fingers_users_v1';
    const currentUserKey = 'pharaoh_current_user';
    
    // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    let currentUser = null;
    let currentView = 'home';
    let currentArticleId = null;
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    function initApp() {
      loadUser();
      renderMainContent();
      setupEventListeners();
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    function loadUser() {
      const userData = localStorage.getItem(currentUserKey);
      if (userData) {
        currentUser = JSON.parse(userData);
        renderUserSection();
      } else {
        renderUserSection();
      }
    }
    
    // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    function saveUser(user) {
      currentUser = user;
      localStorage.setItem(currentUserKey, JSON.stringify(user));
      
      // Ø­ÙØ¸ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
      const users = getUsers();
      const existingUserIndex = users.findIndex(u => u.id === user.id);
      if (existingUserIndex >= 0) {
        users[existingUserIndex] = user;
      } else {
        users.push(user);
      }
      localStorage.setItem(usersKey, JSON.stringify(users));
      
      renderUserSection();
    }
    
    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
    function logout() {
      currentUser = null;
      localStorage.removeItem(currentUserKey);
      renderUserSection();
      showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
      renderMainContent();
    }
    
    // Ø¹Ø±Ø¶ Ù‚Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    function renderUserSection() {
      const userSection = $$('#userSection');
      if (currentUser) {
        userSection.innerHTML = `
          <img class="user-avatar" src="${currentUser.picture}" alt="${currentUser.name}">
          <div class="user-name">${currentUser.name}</div>
          <button class="tool-btn ghost" id="dashboardBtn"><i class="fas fa-th-large"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
          <button class="tool-btn ghost" id="logoutBtn"><i class="fas fa-sign-out-alt"></i></button>
        `;
      } else {
        userSection.innerHTML = `
          <button class="login-btn" id="loginBtn">
            <i class="fab fa-google"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
          </button>
        `;
      }
    }
    
    //è·å–ç”¨æˆ·åˆ—è¡¨
    function getUsers() {
      try {
        return JSON.parse(localStorage.getItem(usersKey)) || [];
      } catch {
        return [];
      }
    }
    
    //è·å–æ–‡ç« åˆ—è¡¨
    function getPosts() {
      try {
        return JSON.parse(localStorage.getItem(postsKey)) || [];
      } catch {
        return [];
      }
    }
    
    //ä¿å­˜æ–‡ç« åˆ—è¡¨
    function savePosts(posts) {
      localStorage.setItem(postsKey, JSON.stringify(posts));
    }
    
    //è·å–ç”¨æˆ·ä»Šæ—¥æ–‡ç« æ•°é‡
    function getUserTodayArticles(userId) {
      const posts = getPosts();
      const today = new Date().toDateString();
      return posts.filter(post => 
        post.authorId === userId && 
        new Date(post.date).toDateString() === today
      ).length;
    }
    
    //æ¸²æŸ“ä¸»å†…å®¹
    function renderMainContent() {
      const mainContent = $$('#mainContent');
      
      switch(currentView) {
        case 'home':
          renderHomeView(mainContent);
          break;
        case 'dashboard':
          renderDashboardView(mainContent);
          break;
        case 'article':
          renderArticleView(mainContent);
          break;
        default:
          renderHomeView(mainContent);
      }
    }
    
    //æ¸²æŸ“é¦–é¡µ
    function renderHomeView(container) {
      const posts = getPosts();
      
      container.innerHTML = `
        <section class="hero">
          <article class="card">
            <div class="p">
              <h1 class="title">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Â«Ø£ØµØ§Ø¨Ø¹ Ø§Ù„ÙØ±Ø¹ÙˆÙ†Â»</h1>
              <p class="subtitle">Ù‚Ø§Ù„Ø¨ Ø¨Ø³ÙŠØ· ÙˆØ¬Ø°Ø§Ø¨ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆÙŠØ­ØªÙˆÙŠ Ø£Ø¯Ø§Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø¹ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„ÙÙˆØ§ØµÙ„. ÙƒÙ„ Ø´ÙŠØ¡ ÙŠÙØ­ÙØ¸ Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙˆÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØµØ¯ÙŠØ± ÙˆØ§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ø³Ù‡ÙˆÙ„Ø©.</p>
              <div style="display:flex;gap:10px;flex-wrap:wrap">
                ${currentUser ? `
                  <button class="tool-btn" id="openEditorBtn2">Ø§Ø¨Ø¯Ø£ ÙƒØªØ§Ø¨Ø© Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
                  <button class="tool-btn" id="exportBtn">ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</button>
                  <label class="tool-btn" style="cursor:pointer">
                    Ø§Ø³ØªÙŠØ±Ø§Ø¯
                    <input type="file" id="importFile" accept="application/json" style="display:none">
                  </label>
                ` : `
                  <button class="tool-btn" id="openEditorBtn2" disabled>Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ÙƒØªØ§Ø¨Ø© Ù…Ù‚Ø§Ù„Ø§Øª</button>
                `}
              </div>
            </div>
          </article>
          <aside class="card">
            <div class="p">
              <h3 style="margin:0 0 12px">Ù…Ø³Ø§Ø­Ø© Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙŠØ²Ø©</h3>
              <div class="ad-slot" id="ad-slot-hero">
                <small>Ù…ÙˆØ¶Ø¹ Ø¥Ø¹Ù„Ø§Ù† â€” 336Ã—280</small>
              </div>
              <p class="subtitle" style="margin-top:12px">Ø§Ø³ØªØ¨Ø¯Ù„ Ù‡Ø°Ø§ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø¨ÙƒÙˆØ¯ Ø¥Ø¹Ù„Ø§Ù† Ø£Ø¯Ø³Ù†Ø³ Ø§Ù„Ù…Ù„Ø§Ø¦Ù… Ù„ÙˆØ­Ø¯ØªÙƒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ©.</p>
            </div>
          </aside>
        </section>

        <section class="grid" id="posts">
          <div>
            <h2 style="margin:0 0 12px">Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</h2>
            <div class="posts" id="postsWrap">
              ${renderPostsList(posts)}
            </div>
          </div>
          <aside class="sidebar" aria-label="Ø´Ø±ÙŠØ· Ø¬Ø§Ù†Ø¨ÙŠ">
            <div class="widget" style="display:flex;flex-direction:column;gap:12px">
              <h3 style="margin:0">Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø§Ù†Ø¨ÙŠ</h3>
              <div class="ad-slot" id="ad-slot-side">
                <small>Ù…ÙˆØ¶Ø¹ Ø¥Ø¹Ù„Ø§Ù† â€” 300Ã—600</small>
              </div>
            </div>
            <div class="widget">
              <h3 style="margin-top:0">Ø­ÙˆÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
              <p style="margin:0;color:var(--muted)">Ù‚Ø§Ù„Ø¨ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø®ØµÙŠ. Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù†ØµÙˆØµ ÙƒÙ…Ø§ ØªØ­Ø¨.</p>
            </div>
          </aside>
        </section>

        <footer>
          <div>Â© <span id="year">${new Date().getFullYear()}</span> Ø£ØµØ§Ø¨Ø¹ Ø§Ù„ÙØ±Ø¹ÙˆÙ† â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div>
        </footer>
      `;
    }
    
    //æ¸²æŸ“æ–‡ç« åˆ—è¡¨
    function renderPostsList(posts) {
      if (!posts.length) {
        return '<div class="card p" style="grid-column:1/-1;color:var(--muted)">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ø¹Ø¯. Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙˆÙ„ Ù…Ù‚Ø§Ù„ Ù„Ùƒ Ù…Ù† Ø²Ø± "Ø£Ø¯Ø§Ø© ÙƒØªØ§Ø¨Ø©".</div>';
      }
      
      return posts.slice(0, 6).map(post => `
        <article class="post card" data-id="${post.id}">
          <div class="thumb" style="background-image: url('${post.cover || ''}'); background-size: cover; background-position: center"></div>
          <div class="p">
            <div class="meta">
              <span class="date">${new Date(post.date).toLocaleDateString('ar-EG', {year: 'numeric', month: 'long', day: 'numeric'})}</span> â€¢ 
              <span class="tags">${(post.tags || []).slice(0, 2).join(' â€¢ ')}</span>
            </div>
            <h3 class="title">${post.title}</h3>
            <p class="excerpt" style="color:var(--muted)">${post.desc || extractExcerpt(post.html)}</p>
            <a class="readmore" href="#article-${post.id}" data-id="${post.id}">Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø²ÙŠØ¯ â†’</a>
          </div>
        </article>
      `).join('');
    }
    
    //æ¸²æŸ“ä»ªè¡¨æ¿è§†å›¾
    function renderDashboardView(container) {
      if (!currentUser) {
        showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', 'error');
        currentView = 'home';
        renderMainContent();
        return;
      }
      
      const userPosts = getPosts().filter(post => post.authorId === currentUser.id);
      const todayPosts = userPosts.filter(post => 
        new Date(post.date).toDateString() === new Date().toDateString()
      );
      
      container.innerHTML = `
        <h1 style="margin:0 0 20px">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
        <div class="dashboard">
          <div class="dashboard-nav">
            <a href="#" class="active" data-tab="stats"><i class="fas fa-chart-bar"></i> Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</a>
            <a href="#" data-tab="articles"><i class="fas fa-file-alt"></i> Ù…Ù‚Ø§Ù„Ø§ØªÙŠ</a>
            <a href="#" data-tab="profile"><i class="fas fa-user"></i> Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a>
            <a href="#" data-tab="settings"><i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a>
          </div>
          <div class="dashboard-content">
            <div class="stats-grid">
              <div class="stat-card">
                <i class="fas fa-file-alt" style="font-size: 32px; color: var(--brand)"></i>
                <div class="stat-value">${userPosts.length}</div>
                <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</div>
              </div>
              <div class="stat-card">
                <i class="fas fa-calendar-day" style="font-size: 32px; color: var(--brand)"></i>
                <div class="stat-value">${todayPosts.length}/3</div>
                <div class="stat-label">Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
              </div>
              <div class="stat-card">
                <i class="fas fa-eye" style="font-size: 32px; color: var(--brand)"></i>
                <div class="stat-value">${userPosts.reduce((sum, post) => sum + (post.views || 0), 0)}</div>
                <div class="stat-label">Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div>
              </div>
            </div>
            
            <h2>Ù…Ù‚Ø§Ù„Ø§ØªÙŠ Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h2>
            <table class="articles-table">
              <thead>
                <tr>
                  <th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
                  <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                  <th>Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</th>
                  <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                </tr>
              </thead>
              <tbody>
                ${userPosts.slice(0, 5).map(post => `
                  <tr>
                    <td>${post.title}</td>
                    <td>${new Date(post.date).toLocaleDateString('ar-EG')}</td>
                    <td>${post.views || 0}</td>
                    <td>
                      <button class="tool-btn ghost" data-action="view" data-id="${post.id}"><i class="fas fa-eye"></i></button>
                      <button class="tool-btn ghost" data-action="edit" data-id="${post.id}"><i class="fas fa-edit"></i></button>
                      <button class="tool-btn ghost" data-action="delete" data-id="${post.id}"><i class="fas fa-trash"></i></button>
                    </td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
            
            <div style="margin-top: 20px; text-align: center">
              <button class="tool-btn primary" id="newArticleBtn"><i class="fas fa-plus"></i> Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
            </div>
          </div>
        </div>
      `;
    }
    
    //æ¸²æŸ“æ–‡ç« è§†å›¾
    function renderArticleView(container) {
      const posts = getPosts();
      const article = posts.find(p => p.id === currentArticleId);
      
      if (!article) {
        showNotification('Ø§Ù„Ù…Ù‚Ø§Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
        currentView = 'home';
        renderMainContent();
        return;
      }
      
      // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
      article.views = (article.views || 0) + 1;
      savePosts(posts);
      
      container.innerHTML = `
        <article class="article-page">
          <div class="article-header">
            ${article.cover ? `<img src="${article.cover}" alt="${article.title}" class="article-cover">` : ''}
            <h1 class="article-title">${article.title}</h1>
            <div class="article-meta">
              <div class="article-author">
                <img src="${article.authorPicture}" alt="${article.author}" class="user-avatar">
                <span>${article.author}</span>
              </div>
              <span>â€¢</span>
              <span>${new Date(article.date).toLocaleDateString('ar-EG', {year: 'numeric', month: 'long', day: 'numeric'})}</span>
              <span>â€¢</span>
              <span>${article.views || 0} Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
            </div>
            ${article.tags && article.tags.length ? `
              <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:10px">
                ${article.tags.map(tag => `<span style="background:rgba(255,255,255,.1);padding:4px 10px;border-radius:12px;font-size:14px">${tag}</span>`).join('')}
              </div>
            ` : ''}
          </div>
          <div class="article-content">
            ${article.html}
          </div>
        </article>
        
        <footer style="margin-top: 40px">
          <div>Â© <span id="year">${new Date().getFullYear()}</span> Ø£ØµØ§Ø¨Ø¹ Ø§Ù„ÙØ±Ø¹ÙˆÙ† â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div>
        </footer>
      `;
    }
    
    //æå–æ–‡ç« æ‘˜è¦
    function extractExcerpt(html) {
      const tmp = document.createElement('div');
      tmp.innerHTML = html;
      const text = (tmp.textContent || '').trim();
      return text.slice(0, 160) + (text.length > 160 ? 'â€¦' : '');
    }
    
    //æ˜¾ç¤ºé€šçŸ¥
    function showNotification(message, type = 'info') {
      const notification = $$('#notification');
      const messageEl = $$('#notificationMessage');
      
      messageEl.textContent = message;
      notification.className = `notification ${type}`;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    //è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
    function setupEventListeners() {
      // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      document.body.addEventListener('click', (e) => {
        if (e.target.id === 'loginBtn' || e.target.closest('#loginBtn')) {
          $$('#loginDialog').showModal();
        }
        
        if (e.target.id === 'closeLogin' || e.target.closest('#closeLogin')) {
          $$('#loginDialog').close();
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        if (e.target.id === 'logoutBtn' || e.target.closest('#logoutBtn')) {
          logout();
        }
        
        // Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        if (e.target.id === 'dashboardBtn' || e.target.closest('#dashboardBtn')) {
          currentView = 'dashboard';
          renderMainContent();
        }
        
        // ÙØªØ­ Ø§Ù„Ù…Ø­Ø±Ø±
        if (e.target.id === 'openEditorBtn' || e.target.id === 'openEditorBtn2' || e.target.closest('#openEditorBtn') || e.target.closest('#openEditorBtn2')) {
          if (!currentUser) {
            $$('#loginDialog').showModal();
            return;
          }
          
          // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…
          const todayArticles = getUserTodayArticles(currentUser.id);
          if (todayArticles >= 3) {
            showNotification('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ… (3 Ù…Ù‚Ø§Ù„Ø§Øª)', 'error');
            return;
          }
          
          // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
          $$('#limitProgress').style.width = `${(todayArticles / 3) * 100}%`;
          $$('#limitText').textContent = `${todayArticles}/3 Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…`;
          
          $$('#editorDialog').showModal();
        }
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ø­Ø±Ø±
        if (e.target.id === 'closeEditor' || e.target.closest('#closeEditor')) {
          $$('#editorDialog').close();
        }
        
        // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù‚Ø§Ù„
        if (e.target.id === 'previewBtn' || e.target.closest('#previewBtn')) {
          const { title, html, cover } = collectEditorData();
          fillReader({ title, html, cover });
          $$('#readerDialog').showModal();
        }
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
        if (e.target.id === 'closeReader' || e.target.closest('#closeReader')) {
          $$('#readerDialog').close();
        }
        
        // Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„
        if (e.target.id === 'publishBtn' || e.target.closest('#publishBtn')) {
          publishArticle();
        }
        
        // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù‚Ø§Ù„
        if (e.target.classList.contains('readmore') || e.target.closest('.readmore')) {
          const articleId = e.target.dataset.id || e.target.closest('.readmore').dataset.id;
          currentArticleId = articleId;
          currentView = 'article';
          renderMainContent();
          window.scrollTo(0, 0);
        }
        
        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        if (e.target.closest('.logo') || e.target.closest('.nav a[href="#posts"]')) {
          currentView = 'home';
          renderMainContent();
          window.scrollTo(0, 0);
        }
      });
      
      // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ù† Google
      window.handleGoogleSignIn = (response) => {
        const userData = {
          id: response.credential,
          name: response.name,
          email: response.email,
          picture: response.picture
        };
        
        saveUser(userData);
        $$('#loginDialog').close();
        showNotification(`Ù…Ø±Ø­Ø¨Ù‹Ø§ ${userData.name}!`, 'success');
        renderMainContent();
      };
    }
    
    // Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø±Ø±
    function collectEditorData() {
      return {
        title: $$('#postTitle').value.trim(),
        cover: $$('#coverUrl').value.trim(),
        desc: $$('#postDesc').value.trim(),
        tags: $$('#postTags').value.split(',').map(s => s.trim()).filter(Boolean),
        category: $$('#postCategory').value,
        html: $$('#editorArea').innerHTML.trim()
      };
    }
    
    // Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„
    function publishArticle() {
      if (!currentUser) {
        showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'error');
        return;
      }
      
      const data = collectEditorData();
      if (!data.title || !data.html) {
        showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† ÙˆÙ…Ø­ØªÙˆÙ‰ Ù„Ù„Ù…Ù‚Ø§Ù„', 'error');
        return;
      }
      
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…
      const todayArticles = getUserTodayArticles(currentUser.id);
      if (todayArticles >= 3) {
        showNotification('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ… (3 Ù…Ù‚Ø§Ù„Ø§Øª)', 'error');
        return;
      }
      
      const posts = getPosts();
      posts.unshift({
        id: crypto.randomUUID(),
        ...data,
        author: currentUser.name,
        authorId: currentUser.id,
        authorPicture: currentUser.picture,
        date: new Date().toISOString(),
        views: 0
      });
      
      savePosts(posts);
      $$('#editorDialog').close();
      
      // ØªÙØ±ÙŠØº Ø§Ù„Ø­Ù‚ÙˆÙ„
      ['postTitle', 'coverUrl', 'postDesc', 'postTags'].forEach(id => $$('#' + id).value = '');
      $$('#editorArea').innerHTML = '';
      $$('#postCategory').value = 'Ø¹Ø§Ù…';
      
      showNotification('ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
      renderMainContent();
    }
    
    // Ù…Ù„Ø¡ Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª
    function fillReader({ title, html, cover }) {
      $$('#readerTitle').textContent = title || 'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†';
      const box = $$('#readerContent');
      box.innerHTML = '';
      
      if (cover) {
        const img = document.createElement('img');
        img.src = cover;
        img.alt = title;
        img.style.borderRadius = '14px';
        img.style.marginBottom = '12px';
        img.style.width = '100%';
        box.appendChild(img);
      }
      
      const content = document.createElement('div');
      content.innerHTML = html || '<p style="color:var(--muted)">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰.</p>';
      box.appendChild(content);
    }
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>
</html>